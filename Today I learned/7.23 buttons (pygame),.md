# 7/23 Today I learned...

# Buttons in pygame

- Create Button class(either in the same module, or different module) and use its instances in the game
- Method that includes 'screen.blit()' in Button class should be called inside of game loop
- Hovering over effect - pygame.mouse.get_pos()
- Mouse Click event - set a variable 'self.clicked = False'
- Set another variable in constructor if Button class is used in another module (There are some variables that works only if that variables are in that module)

## Case 1
#### if Button class exists in the same module

<em>main.py</em>
```py
import pygame

pygame.init()
screenwidth = 800
screenheight = 800
black = (0,0,0)
white = (255,255,255)
screen = pygame.display.set_mode((screenwidth,screenheight))

startbutton_img = pygame.image.load("start.png")
exitbutton_img = pygame.image.load("emergency-exit.png")

ship_img = pygame.image.load("s1.png")

startbutton_img_rect = startbutton_img.get_rect()
exitbutton_img_rect = exitbutton_img.get_rect()

class Button:
    def __init__(self,x,y,image):
        self.x = x
        self.y = y
        self.image = image
        self.image_rect = self.image.get_rect()
        self.image_rect.topleft = (self.x, self.y)
        self.clicked = False

    def click_check(self,screen_var):
        action = False
        self.mouse_pos = pygame.mouse.get_pos()
        #print(self.mouse_pos)        
        if self.image_rect.collidepoint(self.mouse_pos):
            #print("Hovered")
            if pygame.mouse.get_pressed()[0] == True and self.clicked == False:
                self.clicked = True
                action = True
           
        if pygame.mouse.get_pressed()[0] == False and self.clicked == True:
            self.clicked = False

        screen_var.blit(self.image,(self.x,self.y))
        return action
        

run = True

start_button = Button(150,350,startbutton_img)
exit_button = Button(450,350,exitbutton_img)


while run:
    screen.fill((0,0,0))
    
    if start_button.click_check(screen):
        print("Start ")

    if exit_button.click_check(screen):
        print("Exit")
       
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            run = False

    pygame.display.flip()
```
## Case 2

#### if Button class exists in another module

<em>main.py</em>
```py
import pygame
from button import Button

pygame.init()
screenwidth = 800
screenheight = 800
black = (0,0,0)
white = (255,255,255)
screen = pygame.display.set_mode((screenwidth,screenheight))

startbutton_img = pygame.image.load("start.png")
exitbutton_img = pygame.image.load("emergency-exit.png")

ship_img = pygame.image.load("s1.png")

startbutton_img_rect = startbutton_img.get_rect()
exitbutton_img_rect = exitbutton_img.get_rect()

        

run = True

start_button = Button(150,350,startbutton_img)
exit_button = Button(450,350,exitbutton_img)


while run:
    screen.fill((0,0,0))
    
    if start_button.click_check(screen):
        print("Start ")

    if exit_button.click_check(screen):
        print("Exit")
       
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            run = False

    pygame.display.flip()
```
<em>buttons.py</em>

```py
import pygame

class Button:
    def __init__(self,x,y,image):
        self.x = x
        self.y = y
        self.image = image
        self.image_rect = self.image.get_rect()
        self.image_rect.topleft = (self.x, self.y)
        self.clicked = False

    def click_check(self,screen_var):
        action = False
        self.mouse_pos = pygame.mouse.get_pos()
        #print(self.mouse_pos)        
        if self.image_rect.collidepoint(self.mouse_pos):
            #print("Hovered")
            if pygame.mouse.get_pressed()[0] == True and self.clicked == False:
                self.clicked = True
                action = True
           
        if pygame.mouse.get_pressed()[0] == False and self.clicked == True:
            self.clicked = False

        screen_var.blit(self.image,(self.x,self.y))
        return action
    
```
